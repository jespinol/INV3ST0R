<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="~{fragments :: head}"></head>
<body id="page-top">
<!-- Page Wrapper -->
<div id="wrapper">
    <div th:replace="~{fragments :: sidebar}"></div>
    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
        <!-- Main Content -->
        <div id="content">
            <div th:replace="~{fragments :: topbar}"></div>
            <!-- Begin Page Content -->
            <div class="container-fluid">
                <!-- Page Heading -->
                <h1 class="h1 mb-4 text-gray-800">Create a new account</h1>
                <!-- Account details -->
                <div class="card shadow mb-4">
                    <div class="card-body">
                        <form th:action="@{/account/new}" th:object="${account}" method="post" class="account"
                              id="newAccountForm" autocomplete="off">
                            <div class="form-group">
                                <label for="account-name">Name</label>
                                <input type="text" class="form-control" id="account-name"
                                       placeholder="Enter an account name" th:field="*{accountName}"
                                       required>
                            </div>
                            <div class="form-group">
                                <label for="cashBalanceInput">Initial funds</label>
                                <input type="text" id="cashBalanceInput" class="form-control"
                                       onchange="formatToCurrency('cashBalanceInput', 'cashBalanceValue')"
                                       placeholder="Enter initial funds" required>
                                <input type="hidden" id="cashBalanceValue" name="cashBalance" th:field="*{cashBalance}">
                            </div>
                            <div class="form-group">
                                <label for="account-description">Description</label>
                                <textarea type="text" class="form-control" id="account-description"
                                          placeholder="Enter a short description" th:field="*{accountDescription}"
                                          maxlength="200" required>
                                </textarea>
                            </div>
                            <hr>
                            <button type="submit" class="btn btn-primary btn-user btn-block">
                                Create Account
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Main Content -->
        <div th:replace="~{fragments :: footer}"></div>
    </div>
</div>
<script>
    document.getElementById('newAccountForm').addEventListener('keydown', function (event) {
        if (event.code === 'Enter') {
            event.preventDefault();
        }
    });
</script>
<div th:replace="~{fragments :: logout-modal}"></div>
<div th:replace="~{fragments :: js-core}"></div>
</body>
</html>